# üìã TODO –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ MVP

> **–°—Ç–∞—Ç—É—Å**: –ë–∞–∑–∞ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ ‚úÖ. –ú–∏–≥—Ä–∞—Ü–∏–∏ —Å–æ–∑–¥–∞–Ω—ã ‚úÖ. –ì–æ—Ç–æ–≤ –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ MVP.

---

## üéØ –ö—Ä–∏—Ç–∏—á–Ω—ã–µ –∑–∞–¥–∞—á–∏ –¥–ª—è MVP (Must Have)

### 1. üóìÔ∏è –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –≤—Å—Ç—Ä–µ—á (action="schedule_meeting")

**–§–∞–π–ª—ã**: `src/handlers/conversation.py`, `src/handlers/meetings.py` (—Å–æ–∑–¥–∞—Ç—å)

**–ß—Ç–æ –¥–µ–ª–∞—Ç—å**:
- [ ] –°–æ–∑–¥–∞—Ç—å handler –¥–ª—è –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –≤—Å—Ç—Ä–µ—á (`src/handlers/meetings.py`)
- [ ] –î–æ–±–∞–≤–∏—Ç—å inline keyboard —Å –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏ –≤—Ä–µ–º–µ–Ω–∏ (—Å–µ–≥–æ–¥–Ω—è 18:00, –∑–∞–≤—Ç—Ä–∞ 10:00, —Å–≤–æ—ë –≤—Ä–µ–º—è)
- [ ] –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤—Å—Ç—Ä–µ—á—É –≤ –º–æ–¥–µ–ª—å `Meeting` (–º–æ–¥–µ–ª—å —É–∂–µ –µ—Å—Ç—å –≤ –ë–î)
- [ ] –í—ã–∑–≤–∞—Ç—å `notify_owner_meeting_scheduled()` –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤–ª–∞–¥–µ–ª—å—Ü–∞
- [ ] –û–±—Ä–∞–±–æ—Ç–∞—Ç—å action="schedule_meeting" –≤ `conversation.py` (—Å—Ç—Ä–æ–∫–∞ 68)

**–ì–¥–µ —Å–µ–π—á–∞—Å TODO**:
```python
# src/handlers/conversation.py:68
if action == "schedule_meeting":
    # TODO: –í—ã–∑–≤–∞—Ç—å handler –¥–ª—è –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –≤—Å—Ç—Ä–µ—á–∏
    pass
```

**–ö—Ä–∏—Ç–µ—Ä–∏–π —É—Å–ø–µ—Ö–∞**:
- –õ–∏–¥ –º–æ–∂–µ—Ç –≤—ã–±—Ä–∞—Ç—å –≤—Ä–µ–º—è –≤—Å—Ç—Ä–µ—á–∏ —á–µ—Ä–µ–∑ inline –∫–Ω–æ–ø–∫–∏
- –í—Å—Ç—Ä–µ—á–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –ë–î (`Meeting`)
- –í–ª–∞–¥–µ–ª–µ—Ü –ø–æ–ª—É—á–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ Telegram

---

### 2. üìÇ –û—Ç–ø—Ä–∞–≤–∫–∞ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ (action="send_materials")

**–§–∞–π–ª—ã**: `src/handlers/conversation.py`, `src/config.py`, `.env`

**–ß—Ç–æ –¥–µ–ª–∞—Ç—å**:
- [ ] –†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –∏ –¥–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ `config.py`:
  - `portfolio_url: str | None`
  - `cases_url: str | None`
  - `presentation_url: str | None`
- [ ] –î–æ–±–∞–≤–∏—Ç—å —ç—Ç–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ `.env` (—É–∂–µ –µ—Å—Ç—å –≤ `.env.example`)
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –æ—Ç–ø—Ä–∞–≤–∫—É –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ –≤ `conversation.py` (—Å—Ç—Ä–æ–∫–∞ 71):
  ```python
  if action == "send_materials":
      # –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫–∏ –ª–∏–¥—É
      materials_text = f"üìÇ –ù–∞—à–∏ –º–∞—Ç–µ—Ä–∏–∞–ª—ã:\n\n"
      if settings.portfolio_url:
          materials_text += f"üåê –ü–æ—Ä—Ç—Ñ–æ–ª–∏–æ: {settings.portfolio_url}\n"
      # ... –∏ —Ç.–¥.
      await message.answer(materials_text)
  ```

**–ì–¥–µ —Å–µ–π—á–∞—Å TODO**:
```python
# src/handlers/conversation.py:71
elif action == "send_materials":
    # TODO: –û—Ç–ø—Ä–∞–≤–∏—Ç—å –º–∞—Ç–µ—Ä–∏–∞–ª—ã (—Å—Å—ã–ª–∫–∏ –∏–∑ config)
    pass
```

**–ö—Ä–∏—Ç–µ—Ä–∏–π —É—Å–ø–µ—Ö–∞**:
- –ü—Ä–∏ —Å—Ç–∞—Ç—É—Å–µ WARM –±–æ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å—Å—ã–ª–∫–∏ –Ω–∞ –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ/–∫–µ–π—Å—ã
- –°—Å—ã–ª–∫–∏ –±–µ—Ä—É—Ç—Å—è –∏–∑ `.env`

---

### 3. üîç –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ –¥–∏–∞–ª–æ–≥–∞ (task, budget, deadline)

**–§–∞–π–ª—ã**: `src/services/qualifier.py`

**–ß—Ç–æ –¥–µ–ª–∞—Ç—å**:
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `extract_lead_info()` –≤ `qualifier.py` (—Å—Ç—Ä–æ–∫–∞ 26)
- [ ] –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é –¥–∏–∞–ª–æ–≥–∞ –≤ Claude —Å –ø—Ä–æ–º–ø—Ç–æ–º:
  ```
  –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π –¥–∏–∞–ª–æ–≥ –∏ –∏–∑–≤–ª–µ–∫–∏:
  - task: –ö–∞–∫–∞—è –∑–∞–¥–∞—á–∞ —É –∫–ª–∏–µ–Ω—Ç–∞? (–æ–¥–Ω–æ–π —Ñ—Ä–∞–∑–æ–π)
  - budget: –ë—é–¥–∂–µ—Ç (–µ—Å–ª–∏ —É–ø–æ–º—è–Ω—É—Ç)
  - deadline: –ö–æ–≥–¥–∞ –Ω—É–∂–Ω–æ (–µ—Å–ª–∏ —É–ø–æ–º—è–Ω—É—Ç)

  –í–µ—Ä–Ω–∏ JSON: {"task": "...", "budget": "...", "deadline": "..."}
  ```
- [ ] –ü–∞—Ä—Å–∏—Ç—å JSON –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç—å `lead.task`, `lead.budget`, `lead.deadline`
- [ ] –í—ã–∑—ã–≤–∞—Ç—å `extract_lead_info()` –≤ `conversation.py` –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞

**–ì–¥–µ —Å–µ–π—á–∞—Å TODO**:
```python
# src/services/qualifier.py:26
async def extract_lead_info(lead: Lead) -> dict[str, str | None]:
    # TODO: –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞–ø—Ä–æ—Å –∫ Claude –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
    ...
```

**–ö—Ä–∏—Ç–µ—Ä–∏–π —É—Å–ø–µ—Ö–∞**:
- –ü–æ–ª—è `task`, `budget`, `deadline` –∑–∞–ø–æ–ª–Ω—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–∑ –¥–∏–∞–ª–æ–≥–∞
- –î–∞–Ω–Ω—ã–µ –≤–∏–¥–Ω—ã –≤ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–∏ –≤–ª–∞–¥–µ–ª—å—Ü—É –∏ –≤ `/stats`

---

### 4. üì® –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –≤—Å—Ç—Ä–µ—á–∞—Ö

**–§–∞–π–ª—ã**: `src/services/notifier.py`

**–ß—Ç–æ –¥–µ–ª–∞—Ç—å**:
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `notify_owner_meeting_scheduled()` (—Å—Ç—Ä–æ–∫–∞ 79)
- [ ] –§–æ—Ä–º–∞—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è:
  ```
  üìÖ **–ù–æ–≤–∞—è –≤—Å—Ç—Ä–µ—á–∞ –Ω–∞–∑–Ω–∞—á–µ–Ω–∞!**
  üë§ –ò–º—è: {lead_name}
  ‚è∞ –í—Ä–µ–º—è: {meeting.scheduled_at}
  Telegram: @{username}
  ```

**–ì–¥–µ —Å–µ–π—á–∞—Å TODO**:
```python
# src/services/notifier.py:79
async def notify_owner_meeting_scheduled(lead: Lead, meeting: Meeting) -> None:
    # AICODE-TODO: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –¥–ª—è MVP
    pass
```

**–ö—Ä–∏—Ç–µ—Ä–∏–π —É—Å–ø–µ—Ö–∞**:
- –í–ª–∞–¥–µ–ª–µ—Ü –ø–æ–ª—É—á–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –≤—Å—Ç—Ä–µ—á–∏

---

## üîÑ –£–ª—É—á—à–µ–Ω–∏—è (Nice to Have, –Ω–æ –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è MVP)

### 5. ‚ö° –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –≤ `llm.py`

**–§–∞–π–ª—ã**: `src/services/llm.py`

- [ ] –î–æ–±–∞–≤–∏—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –ø—Ä–æ–º–ø—Ç–∞ (—Å—Ç—Ä–æ–∫–∞ 37)
  - Claude API –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç prompt caching –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ —Ç–æ–∫–µ–Ω–æ–≤
- [ ] –î–æ–±–∞–≤–∏—Ç—å retry —Å exponential backoff –¥–ª—è –æ—à–∏–±–æ–∫ 429/500 (—Å—Ç—Ä–æ–∫–∞ 161)
  - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫—É `tenacity` –∏–ª–∏ –Ω–∞–ø–∏—Å–∞—Ç—å –≤—Ä—É—á–Ω—É—é

**–ì–¥–µ —Å–µ–π—á–∞—Å TODO**:
```python
# src/services/llm.py:37
# AICODE-TODO: –î–æ–±–∞–≤–∏—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –ø—Ä–æ–º–ø—Ç–∞ –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ —Ç–æ–∫–µ–Ω–æ–≤

# src/services/llm.py:161
# AICODE-TODO: –î–æ–±–∞–≤–∏—Ç—å retry —Å exponential backoff –¥–ª—è 429/500 –æ—à–∏–±–æ–∫
```

---

### 6. üîß –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ `notifier.py`

**–§–∞–π–ª—ã**: `src/services/notifier.py`

- [ ] –í—ã–Ω–µ—Å—Ç–∏ —Å–æ–∑–¥–∞–Ω–∏–µ `Bot()` –≤ –≥–ª–æ–±–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç (—Å—Ç—Ä–æ–∫–∞ 26)
  - –°–µ–π—á–∞—Å —Å–æ–∑–¥–∞—ë—Ç—Å—è –∫–∞–∂–¥—ã–π —Ä–∞–∑ –ø—Ä–∏ –≤—ã–∑–æ–≤–µ `notify_owner_about_lead()`
  - –õ—É—á—à–µ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å bot –∏–∑ `conversation.py`

**–ì–¥–µ —Å–µ–π—á–∞—Å TODO**:
```python
# src/services/notifier.py:26
# AICODE-TODO: –í—ã–Ω–µ—Å—Ç–∏ —Å–æ–∑–¥–∞–Ω–∏–µ Bot() –≤ –≥–ª–æ–±–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç
```

---

### 7. üõ°Ô∏è –£–ª—É—á—à–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

**–§–∞–π–ª—ã**: `src/handlers/conversation.py`

- [ ] –î–æ–±–∞–≤–∏—Ç—å —É–º–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ (retry, fallback –æ—Ç–≤–µ—Ç—ã) (—Å—Ç—Ä–æ–∫–∞ 90)

**–ì–¥–µ —Å–µ–π—á–∞—Å TODO**:
```python
# src/handlers/conversation.py:90
# AICODE-TODO: –î–æ–±–∞–≤–∏—Ç—å –±–æ–ª–µ–µ —É–º–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ (retry, fallback –æ—Ç–≤–µ—Ç—ã)
```

---

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ –ø–µ—Ä–≤—ã–º –∑–∞–ø—É—Å–∫–æ–º MVP

- [x] –ú–∏–≥—Ä–∞—Ü–∏–∏ —Å–æ–∑–¥–∞–Ω—ã (`aerich init-db`) ‚úÖ
- [x] AICODE-TODO –ø—Ä–æ—Å—Ç–∞–≤–ª–µ–Ω—ã –≤ –∫–æ–¥–µ ‚úÖ
- [ ] –°–æ–∑–¥–∞–Ω `.env` —Ñ–∞–π–ª (—Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∏–∑ `.env.example`)
- [ ] –ó–∞–ø–æ–ª–Ω–µ–Ω—ã –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:
  - [ ] `TELEGRAM_BOT_TOKEN`
  - [ ] `ANTHROPIC_API_KEY`
  - [ ] `DATABASE_URL`
  - [ ] `OWNER_TELEGRAM_ID`
  - [ ] `BUSINESS_NAME`
  - [ ] `BUSINESS_DESCRIPTION`
- [ ] –ó–∞–ø—É—â–µ–Ω–∞ –ë–î (`docker-compose up -d db` –∏–ª–∏ –ª–æ–∫–∞–ª—å–Ω—ã–π PostgreSQL)
- [ ] –ü—Ä–∏–º–µ–Ω–µ–Ω—ã –º–∏–≥—Ä–∞—Ü–∏–∏ (`make migrate` –∏–ª–∏ `uv run aerich upgrade`)
- [ ] –ë–æ—Ç –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫ (`make run`)

---

## üöÄ –ü–æ—Ä—è–¥–æ–∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π)

### –≠—Ç–∞–ø 1: –ë–∞–∑–æ–≤—ã–π MVP (1-2 –¥–Ω—è)
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –ø—Ä–æ–µ–∫—Ç –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
2. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—É—â–∏–π –¥–∏–∞–ª–æ–≥ (–±–µ–∑ meetings –∏ materials)
3. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å **–∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö** (#3) ‚Äî —á—Ç–æ–±—ã –≤–ª–∞–¥–µ–ª–µ—Ü –≤–∏–¥–µ–ª task/budget/deadline

### –≠—Ç–∞–ø 2: –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –≤—Å—Ç—Ä–µ—á (1 –¥–µ–Ω—å)
4. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å **–Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –≤—Å—Ç—Ä–µ—á** (#1)
5. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å **—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –≤—Å—Ç—Ä–µ—á–∞—Ö** (#4)

### –≠—Ç–∞–ø 3: –û—Ç–ø—Ä–∞–≤–∫–∞ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ (1-2 —á–∞—Å–∞)
6. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å **–æ—Ç–ø—Ä–∞–≤–∫—É –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤** (#2)

### –≠—Ç–∞–ø 4: –ü–æ–ª–∏—Ä–æ–≤–∫–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
7. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ (#5, #6, #7)

---

## üìû –°–ª–µ–¥—É—é—â–∏–π —à–∞–≥

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è TODO:
1. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª–Ω—ã–π User Flow (–∫–∞–∫ –æ–ø–∏—Å–∞–Ω–æ –≤ `docs/product.md`)
2. –î–µ–ø–ª–æ–π –Ω–∞ VPS (–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –≤ `docs/deployment.md`)
3. –ó–∞–ø—É—Å–∫ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –ª–∏–¥–∞—Ö! üéâ

---

**–£–¥–∞—á–∏ –≤ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ MVP! üöÄ**
