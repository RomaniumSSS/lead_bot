# üêõ –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã (Known Issues)

## ‚ùå –¢–µ—Å—Ç—ã –ø–∞–¥–∞—é—Ç —Å –æ—à–∏–±–∫–æ–π `AttributeError: 'Connection' object has no attribute 'start'`

**–ü—Ä–æ–±–ª–µ–º–∞**: –¢–µ—Å—Ç—ã –Ω–µ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –∏–∑-–∑–∞ –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ `aiosqlite>=0.20.0` –∏ `Tortoise ORM 0.25.1`

**–ü—Ä–∏—á–∏–Ω–∞**: –í –Ω–æ–≤—ã—Ö –≤–µ—Ä—Å–∏—è—Ö `aiosqlite` –∏–∑–º–µ–Ω–∏–ª—Å—è API –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è (–º–µ—Ç–æ–¥ `start()` —É–¥–∞–ª—ë–Ω)

**–°—Ç–∞—Ç—É—Å**: –ù–µ –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è MVP
- ‚úÖ –ö–æ–¥ –ø—Ä–æ—Ö–æ–¥–∏—Ç –ª–∏–Ω—Ç–µ—Ä (Ruff)
- ‚úÖ –ö–æ–¥ –ø—Ä–æ—Ö–æ–¥–∏—Ç –ø—Ä–æ–≤–µ—Ä–∫—É —Ç–∏–ø–æ–≤ (MyPy strict mode)
- ‚úÖ –í –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è PostgreSQL, –∞ –Ω–µ SQLite

**–†–µ—à–µ–Ω–∏–µ** (–¥–ª—è –±—É–¥—É—â–µ–≥–æ):
1. **–í–∞—Ä–∏–∞–Ω—Ç –ê**: –û–±–Ω–æ–≤–∏—Ç—å Tortoise ORM –¥–æ –≤–µ—Ä—Å–∏–∏ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –Ω–æ–≤—ã—Ö `aiosqlite`:
   ```toml
   "tortoise-orm>=0.26.0"  # –∫–æ–≥–¥–∞ –≤—ã–π–¥–µ—Ç
   ```

2. **–í–∞—Ä–∏–∞–Ω—Ç –ë**: –û—Ç–∫–∞—Ç–∏—Ç—å `aiosqlite` –Ω–∞ —Å–æ–≤–º–µ—Å—Ç–∏–º—É—é –≤–µ—Ä—Å–∏—é:
   ```toml
   "aiosqlite==0.19.0"
   ```

3. **–í–∞—Ä–∏–∞–Ω—Ç –í**: –ò–∑–º–µ–Ω–∏—Ç—å `tests/conftest.py` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è PostgreSQL –≤ —Ç–µ—Å—Ç–∞—Ö:
   ```python
   # –í–º–µ—Å—Ç–æ SQLite in-memory –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å testcontainers —Å PostgreSQL
   ```

**–í—Ä–µ–º–µ–Ω–Ω—ã–π workaround**: –¢–µ—Å—Ç—ã –º–æ–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø–æ—Å–ª–µ –æ—Ç–∫–∞—Ç–∞ `aiosqlite`:
```bash
uv add aiosqlite==0.19.0
uv run pytest tests/ -v
```

---

## üìù –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏

–ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ, —Ç–µ—Å—Ç—ã –º–æ–∂–Ω–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –≤ –±—É–¥—É—â–µ–º. –°–µ–π—á–∞—Å –∫—Ä–∏—Ç–∏—á–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å MVP –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–º PostgreSQL.
